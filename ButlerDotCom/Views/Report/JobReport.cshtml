
@{
    ViewBag.Title = "JobReport";
    Layout = "~/Views/Shared/_Sub-DashLayout.cshtml";
}

<div ng-controller="ReportCtrl" ng-init="init()" class="container-fluid body-content">
    <div class="row crds ml-1 p-3 br5">
        <div class="col-10">
            <h2>Job Report</h2>
        </div>
    </div>

    <div class="row crds ml-1 mt-2 br5">
        <div class="col-12 mb-4 ">
            <div class="card-body">
                <div class="d-flex justify-content-end mb-3">
                    <button class="btn btn-success pull-right" ng-click="Export('JobReport')"><i class="fas fa-file-excel"></i></button>
                </div>
                <div style="width:100%; margin:0 auto;" class="table-responsive">
                    <table id="dataTable" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                        <thead>
                            <tr>
                                <th>Job#</th>
                                <th>Nature</th>
                                <th>Description</th>
                                <th>Customer Name</th>
                                <th>Customer Number</th>
                                <th>Customer Email</th>
                                <th>Customer Address</th>
                                <th>Customer Rating</th>
                                <th>Worker Name</th>
                                <th>Emp#</th>
                                <th>Service Name</th>
                                <th>Material Name</th>
                                <th>Control Center Name</th>
                                <th>Controller Name</th>
                                <th>Date Of Request</th>
                                <th>Date Of Execution</th>
                                <th>Date of Completion</th>
                                <th>Job Start Time</th>
                                <th>Job End Time</th>
                                <th>Duration</th>
                                <th>Service Cost</th>
                                <th>Material Cost</th>
                                <th>Total Amount</th>
                                <th>Job Status</th>
                                <th>Payment Status</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>
<script>
    $(document).ready(function () {
        $("#dataTable").DataTable({
            "ajax": {
                "url": "/api/ReportApi/GetJobReport",
                "type": "GET",
                "dataSrc": "Data"
            },
            "columns": [
                { "data": "Id" },
                { "data": "Title" },
                { "data": "Description" },
                { "data": "CustomerName" },
                { "data": "CustomerNumber" },
                { "data": "Email" },
                { "data": "JobAddress" },
                { "data": "ServiceRating" },
                { "data": "WorkerName" },
                { "data": "WorkerId" },
                { "data": "ServiceName" },
                { "data": "MaterialName" },
                { "data": "ControlCenterName" },
                { "data": "ControllerName" },
                { "data": "BookingDate" },
                { "data": "ExecutionDate" },
                { "data": "CompletionDate" },
                { "data": "JobStart" },
                { "data": "JobEnd" },
                { "data": "JobDuration" },
                { "data": "ServiceCost" },
                { "data": "MaterialCost" },
                { "data": "TotalAmount" },
                { "data": "StatusEnum" },
                { "data": "PaymentStatus" },
            ]
        });
    });
</script>

